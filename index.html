<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AuraPredict - Your Personal Mood & Horoscope Companion</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <meta name="description" content="AuraPredict combines your emotions and astrology to generate a personalized daily aura and horoscope.">
</head>
<body>
    <div id="background-animation"></div>

    <div class="container">
        <header>
            <h1>AuraPredict</h1>
            <p class="subtitle">Discover Your Cosmic Energy</p>
        </header>

        <main>
            <form id="aura-form" class="glass-card">
                <div class="form-group">
                    <label for="name">Your Name</label>
                    <input type="text" id="name" required>
                </div>

                <div class="form-group">
                    <label for="dob">Date of Birth</label>
                    <input type="date" id="dob" required>
                </div>

                <div class="form-group">
                    <label for="time-of-birth">Time of Birth</label>
                    <input type="time" id="time-of-birth" required>
                </div>

                <div class="form-group">
                    <label for="mood">Current Mood</label>
                    <select id="mood" required>
                        <option value="">Select your mood</option>
                        <option value="happy">Happy</option>
                        <option value="sad">Sad</option>
                        <option value="stressed">Stressed</option>
                        <option value="calm">Calm</option>
                        <option value="excited">Excited</option>
                        <option value="anxious">Anxious</option>
                        <option value="tired">Tired</option>
                        <option value="energetic">Energetic</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="favorite-color">Favorite Color</label>
                    <input type="color" id="favorite-color">
                </div>

                <button type="submit" class="btn-primary">Generate Aura Reading</button>
            </form>

            <div id="result-section" class="glass-card hidden">
                <h2 id="user-name-display">Your Aura</h2>
                <div id="zodiac-sign" class="zodiac-sign"></div>

                <div class="aura-visualization">
                    <div id="aura-circle"></div>
                    <div id="aura-symbol"></div>
                </div>

                <div class="aura-details">
                    <p id="aura-description" class="aura-description"></p>
                    <div class="energy-meter">
                        <label>Energy Level</label>
                        <div class="progress-bar">
                            <div id="energy-progress" class="progress"></div>
                        </div>
                    </div>
                    <div class="horoscope">
                        <h3>Today's Horoscope</h3>
                        <p id="horoscope-text"></p>
                    </div>
                </div>

                <div class="action-buttons">
                    <button id="save-aura" class="btn-secondary">
                        <i class="fas fa-save"></i> Save Reading
                    </button>
                    <button id="share-aura" class="btn-secondary">
                        <i class="fas fa-share-alt"></i> Share
                    </button>
                    <button id="new-prediction" class="btn-secondary">
                        <i class="fas fa-redo"></i> New Reading
                    </button>
                </div>
            </div>

            <div id="history-section" class="glass-card hidden">
                <h2>Aura History</h2>
                <div id="aura-history-container"></div>
                <button id="clear-history" class="btn-secondary">
                    <i class="fas fa-trash"></i> Clear History
                </button>
            </div>

            <button id="toggle-history" class="floating-btn">
                <i class="fas fa-history"></i>
            </button>

            <button id="open-chatbot" class="floating-btn">
                <i class="fas fa-robot"></i>
            </button>
        </main>

        <div id="chatbot-container">
            <div class="chatbot-header">
                <h3>AuraBot</h3>
                <button id="toggle-chatbot" class="btn-icon">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div id="chatbot-messages"></div>
            <div class="chatbot-input">
                <input type="text" id="chatbot-input-field" placeholder="Ask me anything...">
                <button id="chatbot-send" class="btn-icon">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Add the scraper button -->
    <button id="start-scraping" class="floating-btn" style="right: 20px; bottom: 20px;">
        <i class="fas fa-download"></i>
    </button>

    <script src="scraper.js"></script>
    <script src="script.js"></script>
    <script>
        // Initialize the scraper
        const scraper = new AstroScraper();
        
        // Add event listener for the scraping button
        document.getElementById('start-scraping').addEventListener('click', async () => {
            try {
                const stats = await scraper.scrapeAndProcess();
                console.log('Scraping completed:', stats);
                alert(`Scraping completed!\nProcessed: ${stats.totalProcessed}\nSuccessful: ${stats.successfulApiCalls}\nFailed: ${stats.failedApiCalls}`);
            } catch (error) {
                console.error('Scraping failed:', error);
                alert('Scraping failed. Check console for details.');
            }
        });
    </script>
</body>
</html>
